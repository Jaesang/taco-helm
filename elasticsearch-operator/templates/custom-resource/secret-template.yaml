{{- if .Values.customResource.esTemplate.enabled }}
{{- $envAll := . }}

---
apiVersion: v1
kind: Secret
metadata:
  name: {{ template "elasticsearch-operator.name" . }}-cr-etc
type: Opaque
data:
{{ range $ilm, $fields := .Values.customResource.esTemplate.ilms }}
  {{ $ilm }}.json: {{ toJson $fields | b64enc }}
{{ end }}
{{ range $template, $fields := .Values.customResource.esTemplate.templates }}
  {{ $template }}.json: {{ toJson $fields | b64enc }}
{{ end }}
{{- end }}
